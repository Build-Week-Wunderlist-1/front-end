{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natal\\\\Documents\\\\Assignments\\\\front-end\\\\lambdalist\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { Link } from \"react-router-dom\";\n\nconst Login = () => {\n  const history = useHistory();\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n\n  const handleChange = event => {\n    setCredentials({ ...credentials,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log('Login was pushed');\n    axiosWithAuth().post('api/auth/login/', credentials).then(response => {\n      console.log('Response --> ', response);\n      localStorage.setItem('token', JSON.stringify(response.data.token));\n      history.push('/protected');\n    }).catch(error => {\n      console.log('Post error ', error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, \" Username \"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \"Password \"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, \"Log in\")), \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  }, \"Sign Up\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/natal/Documents/Assignments/front-end/lambdalist/src/components/Login.js"],"names":["React","useState","useHistory","axiosWithAuth","Link","Login","history","credentials","setCredentials","username","password","handleChange","event","target","name","value","handleSubmit","preventDefault","console","log","post","then","response","localStorage","setItem","JSON","stringify","data","token","push","catch","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AACnB,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AAEA,QAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC;AAC9CQ,IAAAA,QAAQ,EAAE,EADoC;AAE9CC,IAAAA,QAAQ,EAAE;AAFoC,GAAD,CAA9C;;AAKA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC/BJ,IAAAA,cAAc,CAAC,EAAE,GAAGD,WAAL;AAAkB,OAACK,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAApD,KAAD,CAAd;AACA,GAFD;;AAIA,QAAMC,YAAY,GAAIJ,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACK,cAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAhB,IAAAA,aAAa,GACXiB,IADF,CACO,iBADP,EAC0Bb,WAD1B,EAEEc,IAFF,CAEQC,QAAD,IAAc;AACnBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BG,QAA7B;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAT,CAAcC,KAA7B,CAA9B;AACAtB,MAAAA,OAAO,CAACuB,IAAR,CAAa,YAAb;AACA,KANF,EAOEC,KAPF,CAOSC,KAAD,IAAW;AACjBb,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BY,KAA3B;AACA,KATF;AAUA,GAbD;;AAeA,sBACC;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAM,IAAA,QAAQ,EAAEf,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AACC,IAAA,IAAI,EAAC,UADN;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,WAAW,EAAC,UAHb;AAIC,IAAA,KAAK,EAAET,WAAW,CAACE,QAJpB;AAKC,IAAA,QAAQ,EAAEE,YALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVD,eAWC;AACC,IAAA,IAAI,EAAC,UADN;AAEC,IAAA,IAAI,EAAC,UAFN;AAGC,IAAA,WAAW,EAAC,UAHb;AAIC,IAAA,KAAK,EAAEJ,WAAW,CAACG,QAJpB;AAKC,IAAA,QAAQ,EAAEC,YALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXD,eAmBC;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBD,CADD,0CAsB0B,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAtB1B,CADD;AA0BA,CArDD;;AAuDA,eAAeN,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\"\nimport { Link } from \"react-router-dom\";\n\nconst Login = () => {\n\tconst history = useHistory();\n\n\tconst [credentials, setCredentials] = useState({\n\t\tusername: '',\n\t\tpassword: ''\n\t});\n\n\tconst handleChange = (event) => {\n\t\tsetCredentials({ ...credentials, [event.target.name]: event.target.value });\n\t};\n\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconsole.log('Login was pushed');\n\t\taxiosWithAuth()\n\t\t\t.post('api/auth/login/', credentials)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log('Response --> ', response);\n\t\t\t\tlocalStorage.setItem('token', JSON.stringify(response.data.token));\n\t\t\t\thistory.push('/protected');\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log('Post error ', error);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"login-page\">\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<label> Username </label>\n\t\t\t\t<input\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\tvalue={credentials.username}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\n\t\t\t\t<label >Password </label>\n\t\t\t\t<input\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\tvalue={credentials.password}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\">Log in</button>\n\t\t\t</form>\n\t\t\t  Don't have an account? <Link to=\"/signup\">Sign Up</Link>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}