{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natal\\\\Documents\\\\Assignments\\\\front-end\\\\lambdalist\\\\src\\\\Components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport useForm from './useForm';\nimport Validate from './Validate';\nimport Profile from \"../Components/Profile\";\nimport axiosWithAuth from \"../utils/axiosWithAuth\";\nconst initialState = {\n  username: \"\",\n  password: \"\"\n};\n\nconst Login = props => {\n  // const { handleChange, handleSubmit, values, errors } = useForm(submit, Validate); // This deconstructs useForm and passes in the submit function as a callback.\n  const [login, setLogin] = useState(initialState);\n\n  const handleChange = e => {\n    setLogin({ ...login,\n      [e.target.name]: e.target.name\n    });\n  };\n\n  const handleSubmit = e => {\n    axiosWithAuth().post(\"api/auth/login/\", login).then(res => {\n      localStorage.setItem(\"token\", res.data.message);\n      props.history.push(\"/todolist\");\n    }).catch(err => {\n      console.log(\"LOGIN-ERROR\", err);\n    }); // console.log('Submitted successfully.')\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    type: \"username\",\n    value: values.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), errors.username && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 33\n    }\n  }, errors.username))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    value: values.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, errors.password))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Log in\")), /*#__PURE__*/React.createElement(Profile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/natal/Documents/Assignments/front-end/lambdalist/src/Components/Login.js"],"names":["React","useState","axios","useForm","Validate","Profile","axiosWithAuth","initialState","username","password","Login","props","login","setLogin","handleChange","e","target","name","handleSubmit","post","then","res","localStorage","setItem","data","message","history","push","catch","err","console","log","values","errors"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AAGA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,QAAQ,EAAE;AAFS,CAArB;;AAMA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACrB;AAEA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAACM,YAAD,CAAlC;;AAEA,QAAMO,YAAY,GAAGC,CAAC,IAAI;AACxBF,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAY,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASC;AAAtC,KAAD,CAAR;AACD,GAFD;;AAMA,QAAMC,YAAY,GAAGH,CAAC,IAAI;AACxBT,IAAAA,aAAa,GACVa,IADH,CACQ,iBADR,EAC2BP,KAD3B,EAEGQ,IAFH,CAEQC,GAAG,IAAI;AACXC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,OAAvC;AACAd,MAAAA,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,WAAnB;AACD,KALH,EAMGC,KANH,CAMSC,GAAG,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,GAA3B;AACD,KARH,EADwB,CAUxB;AACD,GAXD;;AAgBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEX,YAAhB;AAA8B,IAAA,UAAU,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,KAAK,EAAEc,MAAM,CAACxB,QAArD;AAA+D,IAAA,QAAQ,EAAEM,YAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGmB,MAAM,CAACzB,QAAP,iBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIyB,MAAM,CAACzB,QAAX,CAFtB,CAFF,CADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,KAAK,EAAEwB,MAAM,CAACvB,QAArD;AAA+D,IAAA,QAAQ,EAAEK,YAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGmB,MAAM,CAACxB,QAAP,iBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIwB,MAAM,CAACxB,QAAX,CAFtB,CAFF,CARF,eAeE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF,CADF,eAkBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,CADF;AAsBD,CAjDD;;AAmDA,eAAeC,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport useForm from './useForm';\nimport Validate from './Validate';\nimport Profile from \"../Components/Profile\"\nimport axiosWithAuth from \"../utils/axiosWithAuth\"\n\n\nconst initialState = {\n  username: \"\",\n  password: \"\"\n}\n\n\nconst Login = props => {\n  // const { handleChange, handleSubmit, values, errors } = useForm(submit, Validate); // This deconstructs useForm and passes in the submit function as a callback.\n\n  const [login, setLogin] = useState(initialState)\n\n  const handleChange = e => {\n    setLogin({ ...login, [e.target.name]: e.target.name })\n  }\n\n\n\n  const handleSubmit = e => {\n    axiosWithAuth()\n      .post(\"api/auth/login/\", login)\n      .then(res => {\n        localStorage.setItem(\"token\", res.data.message);\n        props.history.push(\"/todolist\")\n      })\n      .catch(err => {\n        console.log(\"LOGIN-ERROR\", err)\n      })\n    // console.log('Submitted successfully.')\n  }\n\n\n\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} noValidate>\n        <div>\n          <label>Username</label>\n          <div>\n            <input name=\"username\" type=\"username\" value={values.username} onChange={handleChange} />\n            {errors.username && <p>{errors.username}</p>}\n          </div>\n        </div>\n        <div>\n          <label>Password</label>\n          <div>\n            <input name=\"password\" type=\"password\" value={values.password} onChange={handleChange} />\n            {errors.password && <p>{errors.password}</p>}\n          </div>\n        </div>\n        <button type=\"submit\">Log in</button>\n      </form>\n      <Profile />\n    </div>\n  );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}